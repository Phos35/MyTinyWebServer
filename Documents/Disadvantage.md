# 目前的不足之处与改进计划

## 一、设计实现

### 1. MyNet

- 参考[HAHA-WebServer](https://github.com/tomatowithpotato/HAHA-WebServer)中的压力测试结果，可以看到同样是事件循环的设计，Nginx的测试结果远远优于muduo和TinyWebServer，而本项目的本地压力测试结果目前仅与TinyWebServer持平，因此本项目中肯定有影响性能的部分。
- 《Linux多线程服务端编程》的网络库实现中有许多的FIXME和UNSAFE注释，目前只修正了其中的一部分，仍有相当一部分处于可能存在问题的状态
- 网络库中的各项参数目前为DEFAULT值，没有进行配置的接口，底层不能自由设定
- 目前只实现了`TCPServer`而没有实现实现`Client`



### 2. MyHTTP

- 目前只支持设置GET和POST请求的处理函数自定义
- 目前`HTTPRequest`向外界提供的接口只有`getUrl`、`getContent`、`getHeader`（直接获取所有字段）等简单接口，功能并不完善
- 目前响应报文整体需要最上层主动构建，而`MyHTTP`并没有过多的参与，响应报文的构建并不方便



### 3. HTTP服务器的请求处理

- 目前只支持GET和POST请求的处理
- 目前只支持HTTP1.1，没有安全处理



## 二、测试

- 目前测试只在云端服务器进行了简单的测试，测试结果并不具备很高的可信度；且可能由于设备性能的限制，对比项目的性能远不如项目介绍所展示
- 缺少对各个模块的测试和记录



## 三、文档

- 目前的文档均为对各个模块的概述，没有各模块的详细设计实现的解析
- 缺少测试文档和修复记录文档



## 四、改进计划

- 针对`MyNet`
  - 仔细复习一遍《Linux多线程服务端编程》，查看是否已经在书中说明该网络库的性能可能存在的瓶颈
  - 学习相对简单的开源项目，对比本项目和其它项目的性能差距所在
  - 阅读分析Nginx相关文档、博客和源码，掌握成熟的网络库技术中安全、性能如何做到平衡和优化
- 针对`MyHTTP`
  - 根据目前的认知完善相关接口的设计
  - 进一步深入学习HTTP协议相关的设计，对可从更上层转移至本层的功能进行封装
- 测试
  - 将项目转移至个人机器上进行进一步测试（主要为解除带宽限制进行测试）
  - 利用更加完善详细的测试工具（如apache bench等）进行测试
- 文档
  - 补充晚上模块设计实现文档